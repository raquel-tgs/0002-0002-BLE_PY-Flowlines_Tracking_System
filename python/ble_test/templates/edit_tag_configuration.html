{% extends "base/standard_layout.html" %}
{% block title %}Edit Tag Config{% endblock %}
{% block content %}
<div class="flex p-4 justify-between items-center">
  <h4 class="text-xl font-semibold">Edit Configuration</h4>
  <div class="flex gap-4">
    <form class="flex justify-between items-center m-0" method="post" action="/api/buttons/new">
      <button id="tag-scan" class="border-0 rounded-md px-3 py-2 text-white bg-purple-500" value="Scan" name="Scan" id="Scan">Read</button>
    </form>
    <a href="/tag-details/{{tag.mac}}"><button class="text-gray-800 bg-gray-300 px-3 py-2 rounded-md">Cancel</button></a>
    <a href="/tag-details/{{tag.mac}}"><button class="bg-indigo-100 text-indigo-700 px-3 py-2 rounded-md">Save</button></a>
  </div>
</div>
<div class="flex justify-between gap-1 p-4" style="height: 85vh; overflow: scroll;">
  <div class="flex flex-col gap-5 w-3/5">
    <div class="flex flex-col gap-2">
      <label class="text-gray-900 text-sm">Tag Name</label>
      <p class="border border-gray-500 rounded-md p-2 cursor-pointer">{{tag.name if tag.name else 'N/A'}}</p>
    </div>
    
    <div class="flex justify-between gap-2">

      <div class="flex flex-col gap-2" style="width: 30%;">
        <label class="text-gray-900 text-sm">MAC</label>
        <input class="editable-field border border-gray-500 rounded-md p-2" name="mac" mac="{{tag.mac}}" value="{{tag.mac}}">
      </div>
      <div class="flex flex-col gap-2" style="width: 30%;">
        <label class="text-gray-900 text-sm">Update NFC</label>
        <input class="editable-field border border-gray-500 rounded-md p-2" name="update_nfc" mac="{{tag.mac}}" value="{{tag.update_nfc}}">
      </div>
      <div class="flex flex-col gap-2" style="width: 30%;">
        <label class="text-gray-900 text-sm">Status Code</label>
        <input class="editable-field border border-gray-500 rounded-md p-2" name="status_code" mac="{{tag.mac}}" value="{{tag.status_code}}">
      </div>

    </div>

    <div class="flex justify-between gap-2">

      <div class="flex flex-col gap-2" style="width: 30%;">
        <label class="text-gray-900 text-sm">Enable CTE</label>
        <input class="editable-field border border-gray-500 rounded-md p-2" name="enable_cte" mac="{{tag.mac}}" value="{{tag.enable_cte}}">
      </div>
      <div class="flex flex-col gap-2" style="width: 30%;">
        <label class="text-gray-900 text-sm">Tag Enabled</label>
        <input class="editable-field border border-gray-500 rounded-md p-2" name="tag_enabled" mac="{{tag.mac}}" value="{{tag.tag_enabled}}">
      </div>
      <div class="flex flex-col gap-2" style="width: 30%;">
        <label class="text-gray-900 text-sm">Tag Advertisement Period</label>
        <input class="editable-field border border-gray-500 rounded-md p-2" name="tag_advertisement_period" mac="{{tag.mac}}" value="{{tag.tag_advertisement_period}}">
      </div>

    </div>

    <div class="flex justify-between gap-2">

      <div class="flex flex-col gap-2" style="width: 30%;">
        <label class="text-gray-900 text-sm">BLE on Period</label>
        <input class="editable-field border border-gray-500 rounded-md p-2" name="ble_on_period" mac="{{tag.mac}}" value="{{tag.ble_on_period}}">
      </div>
      <div class="flex flex-col gap-2" style="width: 30%;">
        <label class="text-gray-900 text-sm">BLE on Wakeup Period</label>
        <input class="editable-field border border-gray-500 rounded-md p-2" name="ble_on_wakeup_period" mac="{{tag.mac}}" value="{{tag.ble_on_wakeup_period}}">
      </div>
      <div class="flex flex-col gap-2" style="width: 30%;">
        <label class="text-gray-900 text-sm">BLE Off Period</label>
        <input class="editable-field border border-gray-500 rounded-md p-2" name="ble_off_period" mac="{{tag.mac}}" value="{{tag.ble_off_period}}">
      </div>

    </div>

    <div class="flex justify-between gap-2">

      <div class="flex flex-col gap-2" style="width: 30%;">
        <label class="text-gray-900 text-sm">Tag Periodic Scan</label>
        <input class="editable-field border border-gray-500 rounded-md p-2" name="tag_periodic_scan" mac="{{tag.mac}}" value="{{tag.tag_periodic_scan}}">
      </div>
      <div class="flex flex-col gap-2" style="width: 30%;">
        <label class="text-gray-900 text-sm">Battery Voltage</label>
        <input class="editable-field border border-gray-500 rounded-md p-2" name="battery_voltage" mac="{{tag.mac}}" value="{{tag.battery_voltage}}">
      </div>
      <div class="flex flex-col gap-2" style="width: 30%;">
        <label class="text-gray-900 text-sm">Read Battery Voltage</label>
        <input class="editable-field border border-gray-500 rounded-md p-2" name="read_battery_voltage" mac="{{tag.mac}}" value="{{tag.read_battery_voltage}}">
      </div>

    </div>

    <div class="flex justify-between gap-2">

      <div class="flex flex-col gap-2" style="width: 30%;">
        <label class="text-gray-900 text-sm">Altitude</label>
        <input class="editable-field border border-gray-500 rounded-md p-2" name="altitude" mac="{{tag.mac}}" value="{{tag.altitude}}">
      </div>
      <div class="flex flex-col gap-2" style="width: 30%;">
        <label class="text-gray-900 text-sm">Moved</label>
        <input class="editable-field border border-gray-500 rounded-md p-2" name="moved" mac="{{tag.mac}}" value="{{tag.moved}}">
      </div>
      <div class="flex flex-col gap-2" style="width: 30%;">
        <label class="text-gray-900 text-sm">Tag Firmware</label>
        <input class="editable-field border border-gray-500 rounded-md p-2" name="tag_firmware" mac="{{tag.mac}}" value="{{tag.tag_firmware}}">
      </div>

    </div>

    <div class="flex justify-between gap-2">

      <div class="flex flex-col gap-2" style="width: 30%;">
        <label class="text-gray-900 text-sm">End Transac.</label>
        <input class="editable-field border border-gray-500 rounded-md p-2" name="end_transac" mac="{{tag.mac}}" value="{{tag.end_transac}}">
      </div>
      {# <div class="flex flex-col gap-2" style="width: 30%;">
        <label class="text-gray-900 text-sm">Select</label>
        <input class="border border-gray-500 rounded-md p-2" name="name" value="{{tag.select}}">
      </div>
      <div class="flex flex-col gap-2" style="width: 30%;">
        <label class="text-gray-900 text-sm">Read NFC</label>
        <input class="border border-gray-500 rounded-md p-2" name="name" value="{{tag.read_nfc}}">
      </div> #}

    </div>

    {# <div class="flex justify-between gap-2">

      <div class="flex flex-col gap-2" style="width: 30%;">
        <label class="text-gray-900 text-sm">Cert ID</label>
        <p class="border border-gray-500 rounded-md p-2 cursor-pointer">{{tag.certificate_id if tag.certificate_id else 'N/A'}}</p>
      </div>
      <div class="flex flex-col gap-2" style="width: 30%;">
        <label class="text-gray-900 text-sm">Company Name</label>
        <p class="border border-gray-500 rounded-md p-2 cursor-pointer">{{tag.certification_company_name if tag.certification_company_name else 'N/A'}}</p>
      </div>
      <div class="flex flex-col gap-2" style="width: 30%;">
        <label class="text-gray-900 text-sm">Company ID</label>
        <p class="border border-gray-500 rounded-md p-2 cursor-pointer">{{tag.certification_company_id if tag.certification_company_id else 'N/A'}}</p>
      </div>

    </div> #}

    {# <div class="flex justify-between gap-2">

      <div class="flex flex-col gap-2" style="width: 30%;">
        <label class="text-gray-900 text-sm">Cert Place</label>
        <p class="border border-gray-500 rounded-md p-2 cursor-pointer">{{tag.certification_place if tag.certification_place else 'N/A'}}</p>
      </div>
      <div class="flex flex-col gap-2" style="width: 30%;">
        <label class="text-gray-900 text-sm">Cert Date</label>
        <p class="border border-gray-500 rounded-md p-2 cursor-pointer">{{tag.certification_date if tag.certification_date else 'N/A'}}</p>
      </div>
      <div class="flex flex-col gap-2" style="width: 30%;">
        <label class="text-gray-900 text-sm">Exp Date</label>
        <p class="border border-gray-500 rounded-md p-2 cursor-pointer">{{tag.expiration_date if tag.expiration_date else 'N/A'}}</p>
      </div>

    </div> #}


    
    <!-- <div>
        <div class="w-1/2">
          <p class="flex text-sm font-normal"><span class="font-semibold w-32 block">Owner Company</span>{{tag.owner_company_name}}</p>
          <p class="flex text-sm font-normal"><span class="font-semibold w-32 block">Owner Data</span>{{tag.owner_data}}</p>
          <p class="flex text-sm font-normal"><span class="font-semibold w-32 block">Batch ID</span>{{tag.batch_id}}</p>
          <p class="flex text-sm font-normal"><span class="font-semibold w-32 block">Batch Created</span>{{tag.batch_date}}</p>
          <p class="flex text-sm font-normal"><span class="font-semibold w-32 block">Test Type</span>{{tag.test_type}}</p>
        </div>
      </div>
    </div>
    <div>
      <p class="text-sm font-normal text-gray-700">CRC / Extensions</p>
      <div class="flex gap-1">
        <div class="w-1/2">
          <p class="flex text-sm font-normal"><span class="font-semibold w-32 block">BLE Data CRC</span>{{tag.ble_data_crc}}</p>
          <p class="flex text-sm font-normal"><span class="font-semibold w-32 block">Asset Image CRC</span>{{tag.asset_images_crc}}</p>
          <p class="flex text-sm font-normal"><span class="font-semibold w-32 block">Logo Image CRC</span>{{tag.logo_images_crc}}</p>
          <p class="flex text-sm font-normal"><span class="font-semibold w-32 block">Signature CRC</span>{{tag.signature_images_crc}}</p>
          <p class="flex text-sm font-normal"><span class="font-semibold w-32 block">Expires</span>{{tag.expiration_date}}</p>
        </div>
        <div class="w-1/2">
          <p class="flex text-sm font-normal"><span class="font-semibold w-32 block">Asset Image Ext</span>{{tag.asset_images_file_extension}}</p>
          <p class="flex text-sm font-normal"><span class="font-semibold w-32 block">Logo Image Ext</span>{{tag.logo_file_extension}}</p>
          <p class="flex text-sm font-normal"><span class="font-semibold w-32 block">Signature Ext</span>{{tag.signature_image_file_extension}}</p>
        </div>
      </div>
    </div> -->
  </div>
</div>

<script src="{{ url_for('static', filename='js/edit_tag_details.js') }}"></script>
{% endblock %}

{# 
update_nfc ---
status_code ---
tag_mac ---
enable_cte ---
tag_enabled ---
tag_advertisement_period ---
ble_on_period ---
ble_on_wakeup_period ---
ble_off_period ---
tag_periodic_scan ---
battery_voltage ---
read_battery_voltage ---
altitude ---
moved ---
tag_firmware ---
end_transac
 #}